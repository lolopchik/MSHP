(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{1263:function(e,t,n){"use strict";var s={name:"MenuDocsButton",props:{tag:{type:String,default:"a"}}},i=n(3),a=Object(i.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.tag,{tag:"component",staticClass:"ajax_btn get-modal-btn ajax-redirect-btn flex flex-vertical-center",attrs:{"data-url":"/docs/"}},[e._t("icon"),e._v(" "),e._t("title",(function(){return[e._v("\n    "+e._s(e.$gettext("Помощь"))+"\n  ")]}))],2)}),[],!1,null,null,null);t.a=a.exports},2082:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return p}));var s=n(17),i=n.n(s),a=n(190),o=n(0),r=n(430),c={name:"DiscussionCounter",props:{menu_item:{required:!0,type:a.b}},computed:{unreaded:function unreaded(){return Object(r.b)(this.$store.state)}}},l=n(3),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.menu_item.menu.icon?n("i",{class:e.menu_item.menu.icon}):e._e(),e._v(" "),n("span",{staticClass:"nav-label"},[e._v("\n    "+e._s(e.menu_item.menu.title)+"\n    "),e._t(e.menu_item.menu.name),e._v(" "),e.unreaded>0?n("span",{staticClass:"badge badge-warning pull-right"},[e._v("\n      "+e._s(e.unreaded)+"\n    ")]):e._e()],2)])}),[],!1,null,null,null).exports;i.a.component("DiscussionCounter",u);var _=new a.a(Object(o.$gettext)("Учащийся"),"pupil").hide().add_children([new a.a(Object(o.$gettext)("Главная"),"pupil_root").use_icon("shp_icons-essential_home_2").use_active_icon("shp_icons-essential_home_2_filled"),new a.a(Object(o.$gettext)("Вопросы"),"discussion_list").hide().use_icon("icon-question-sign").use_component("DiscussionCounter").add_children([new a.a(Object(o.$gettext)("Вопрос"),"discussion_detail").hide()]),new a.a(Object(o.$gettext)("Расписание"),"pupil_calendar").use_icon("shp_icons-time_calendar").use_active_icon("shp_icons-time_calendar_filled"),new a.a(Object(o.$gettext)("Задания"),"pupil_unit_users").use_icon("shp_icons-content_task_square").use_active_icon("shp_icons-content_task_square_filled"),new a.a(Object(o.$gettext)("Мои курсы"),"client_subjects_list").use_icon("shp_icons-school_teacher").use_active_icon("shp_icons-school_teacher_filled"),new a.a(Object(o.$gettext)("Успеваемость"),"pupil_diary").use_icon("shp_icons-business_chart_2").use_active_icon("shp_icons-business_chart_2_filled"),new a.a(Object(o.$gettext)("Учебники"),"client_textbook_root").use_icon("shp_icons-school_book").use_active_icon("shp_icons-school_book_filled"),new a.a(Object(o.$gettext)("Запись на курсы"),"client_course_registrations").use_icon("shp_icons-archive_archive_add").use_active_icon("shp_icons-archive_archive_add_filled"),new a.a(Object(o.$gettext)("Запись в группу"),"client_group_registrations").use_icon("icon-plus-sign-alt").hide(),new a.a(Object(o.$gettext)("Финансы"),"pupil_finances").use_icon("shp_icons-money_wallet_3").use_active_icon("shp_icons-money_wallet_3_filled").mobile().add_children([new a.a(Object(o.$gettext)("Оплаты через эквайринг"),"client_payment_order").hide()]),new a.a(Object(o.$gettext)("Достижения"),"achievements").use_icon("icon-trophy").hide(),new a.a(Object(o.$gettext)("Анкеты"),"user_poll_list").hide(),new a.a(Object(o.$gettext)("Настройки"),"account_root").hide().add_children([new a.a(Object(o.$gettext)("Настройки"),"account_root")]),new a.a(Object(o.$gettext)("Сброс пароля"),"password_reset").hide(),new a.a(Object(o.$gettext)("Центр загрузок"),"download_center").hide()]).init(),p=new a.a(Object(o.$gettext)("Учащийся"),"prerecorded_pupil").hide().add_children([new a.a(Object(o.$gettext)("Главная"),"prerecorded_main").use_icon("icon-home"),new a.a(Object(o.$gettext)("Вопросы"),"discussion_list").use_icon("icon-question-sign"),new a.a(Object(o.$gettext)("Курсы"),"client_subjects_list").use_icon("icon-random"),new a.a(Object(o.$gettext)("Задания"),"pupil_unit_users").use_icon("icon-tasks").hide(),new a.a(Object(o.$gettext)("Занятия"),"pupil_calendar").use_icon("icon-calendar").hide(),new a.a(Object(o.$gettext)("Успеваемость"),"pupil_diary").use_icon("icon-dashboard").hide(),new a.a(Object(o.$gettext)("Финансы"),"pupil_finances").use_icon("icon-usd").add_children([new a.a(Object(o.$gettext)("Оплаты через эквайринг"),"client_payment_order").hide()]),new a.a(Object(o.$gettext)("Достижения"),"achievements").use_icon("icon-trophy"),new a.a(Object(o.$gettext)("Тарифы"),"prerecorded_tariffs").hide(),new a.a(Object(o.$gettext)("Детали предзаписанного курса"),"prerecorded_course_details").hide(),new a.a(Object(o.$gettext)("Настройки"),"account_root").hide().add_children([new a.a(Object(o.$gettext)("Настройки"),"account_root")]),new a.a(Object(o.$gettext)("Сброс пароля"),"password_reset").hide()]).init()},2363:function(e,t,n){"use strict";var s=n(538),i=n(48),a={name:"NavigationMenu",components:{MenuUserName:s.a},props:{user:{type:i.a,default:null}}},o=n(3),r=Object(o.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"client-navigation-menu flex flex-space-between"},[t("div",[this._t("navigation-menu-items")],2),this._v(" "),t("div",{staticClass:"flex flex-vertical-center gap-md"},[this._t("navigation-menu-actions"),this._v(" "),t("MenuUserName",{attrs:{user:this.user}})],2)])}),[],!1,null,null,null).exports,c=n(946),l=n(190),u=n(27),_=n(2097),p=n(2087),d={name:"ClientNavigationMenu",components:{NotificationsDropdown:_.a,NavigationMenu:r,FirstLevelMenu:c.a,NavigationQuestionsButton:p.a},props:{user:{type:i.a,default:null},menu_items:{type:Array,required:!0,validator:Object(u.a)(l.b)}}},g=Object(o.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NavigationMenu",{attrs:{user:e.user}},[n("template",{slot:"navigation-menu-items"},[n("FirstLevelMenu",{staticClass:"navigation-menu",attrs:{menu_items:e.menu_items}})],1),e._v(" "),e._t("navigation-menu-actions",(function(){return[e._t("notifications",(function(){return[n("NotificationsDropdown")]})),e._v(" "),e._t("questions",(function(){return[n("NavigationQuestionsButton")]}))]}),{slot:"navigation-menu-actions"})],2)}),[],!1,null,null,null);t.a=g.exports},2387:function(e,t,n){"use strict";n(11),n(7),n(12);var s=n(544),i=n(48),a=n(2404),o=n(1263),r=n(545),c=n(933),l=n(538),u=n(430),_=n(1814),p=n(2097),d={name:"ClientTopNavbar",components:{MenuTopNavbar:s.a,MenuLangSelector:a.a,MenuDocsButton:o.a,MenuLoginButton:r.a,TopRightRedDotWrapper:c.a,MenuUserName:l.a,PermittedRouterLink:_.a,NotificationsDropdown:p.a},props:{user:{type:i.a,default:null},is_lg:{type:Boolean,default:!0}},computed:{languages:function languages(){return this.$store.state.settings?this.$store.state.settings.values.languages:[]},has_unread_questions:function has_unread_questions(){return Object(u.b)(this.$store.state)>0}}},g=n(3),h=Object(g.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("MenuTopNavbar",[e.user?n("template",{slot:"actions"},[e._t("lang_selector",(function(){return[e.$edu_settings.IS_EDUENG?n("MenuLangSelector",{attrs:{languages:e.languages}}):e._e()]})),e._v(" "),e.is_lg?[e.$edu_settings.IS_EDUENG?e._e():n("MenuDocsButton",{staticClass:"btn-modern btn-modern-link-grey btn-modern-thin-link"},[n("span",{staticClass:"text-caption",attrs:{slot:"title"},slot:"title"},[e._v("\n          "+e._s(e.$gettext("Помощь"))+"\n        ")])]),e._v(" "),n("PermittedRouterLink",{staticClass:"btn-modern btn-modern-link-grey btn-modern-thin-link",attrs:{to:{name:"pupil_finances"}}},[n("span",{staticClass:"text-caption"},[e._v("\n          "+e._s(e.$gettext("Финансы и оплата"))+"\n        ")])])]:[e._t("top-navbar-actions",(function(){return[e._t("notifications",(function(){return[n("NotificationsDropdown")]})),e._v(" "),e._t("questions",(function(){return[n("RouterLink",{staticClass:"btn-modern btn-modern-link-grey flex flex-vertical-center",attrs:{to:{name:"discussion_list"}}},[n("TopRightRedDotWrapper",{staticClass:"bg-white",attrs:{show_notification:e.has_unread_questions}},[n("i",{staticClass:"shp_icons-messages_messages_2"})])],1)]}))]})),e._v(" "),n("MenuUserName",{attrs:{user:e.user}})]],2):n("template",{slot:"actions"},[n("MenuLoginButton",{staticClass:"pr-0"})],1)],2)}),[],!1,null,null,null);t.a=h.exports},2388:function(e,t,n){"use strict";var s=n(4),i=n.n(s),a=n(5),o=n.n(a),r=(n(11),n(7),n(12),n(43),n(41),n(48)),c=n(172),l=n(27),u=n(77),_=n(1),p=function(){function SingleSelector(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.isRequired)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(_.isRequired)();i()(this,SingleSelector),this.key=e,this.possible=t,this.by_keys={},this.key_func=function(e){return e},this._on_select=function(){},this.selected=null}return o()(SingleSelector,[{key:"get_by_keys",value:function get_by_keys(){var e=this;return Object(l.j)(this.possible,(function(t){return String(e.key_func(t))}))}},{key:"use_key_func",value:function use_key_func(e){return this.key_func=e,this}},{key:"initialize",value:function initialize(){this.by_keys=this.get_by_keys();var e=window.sessionStorage.getItem(this.key);return this.selected=this.by_keys[e],this.selected?this.select(this.selected):this.select(this.possible[0]),this}},{key:"select",value:function select(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.isRequired)();window.sessionStorage.setItem(this.key,this.key_func(e)),this.selected=e,this._on_select(this.selected)}},{key:"on_select",value:function on_select(e){return this._on_select=e,this}}]),SingleSelector}();var d={name:"MenuUserSelection",props:{user:{type:r.a,required:!0},button_classes:{type:String,default:"btn-modern-link-white"}},components:{Dropdown:u.Dropdown},data:function data(){var e=this,t=function representative_pupils(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(_.isRequired)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(_.isRequired)();if(!t||!t.values.representative)return[];var n=e.models,s=n.representatives[t.values.representative],i=s.pupil_representatives||[];return i.map((function(e){return n.pupil_representatives[e].pupil_id})).map((function(t){return new c.a(n.pupils[t],e)}))}(this.$store.state,this.user);if("representative_pupils_not_found"!==this.$route.name)return t.length?{pupils:t,selector:new p("pupil_selection",t).use_key_func((function(e){return e.values.id})).on_select((function(t){return e.$store.commit("login/user_select",t.values.id)})).initialize(),user_middleware:null}:this.$router.push("representative_pupils_not_found")},methods:{change_pupil:function change_pupil(e){this.selector.select(e)}}},g=n(3),h=Object(g.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.pupils.length>1?n("Dropdown",{staticClass:"modern-dropdown-list fit-content inline-flex",attrs:{"menu-right":""}},[n("button",{staticClass:"btn-modern flex flex-vertical-center",class:e.button_classes},[n("i",{staticClass:"shp_icons-users_user mr-sm"}),e._v(" "),n("span",{staticClass:"text-button mr-sm"},[e._v("\n      "+e._s(e.selector.selected.initials)+"\n    ")]),e._v(" "),n("i",{staticClass:"shp_icons-pointer_down"})]),e._v(" "),n("template",{slot:"dropdown"},[n("ul",{staticClass:"modern-list-group__group"},e._l(e.pupils,(function(t){return n("li",{key:t.uid,staticClass:"modern-list-group__item",class:{active:e.selector.selected.id===t.values.id},on:{click:function(n){return e.change_pupil(t)}}},[e._v("\n        "+e._s(t.initials)+"\n      ")])})),0)])],2):n("button",{staticClass:"btn-modern flex flex-vertical-center",class:e.button_classes},[n("i",{staticClass:"shp_icons-users_user mr-sm"}),e._v(" "),n("span",{staticClass:"text-button"},[e._v("\n    "+e._s(e.selector.selected.initials)+"\n  ")])])}),[],!1,null,null,null);t.a=h.exports},2404:function(e,t,n){"use strict";n(70),n(65),n(7);var s=n(49),i=n(22),a=n(21),o=n(77),r=n(174),c=n(0),l={name:"MenuLangSelector",components:{Dropdown:o.Dropdown},props:{languages:{type:Array,required:!0}},data:function data(){return{is_open:!1,COUNTRY_NAMES:r.b}},computed:{current_flag_image:function current_flag_image(){return this.get_flag_image(this.$language.current.slice(0,2))},current_title:function current_title(){var e=this,t=this.languages.find((function(t){return t[0].toLowerCase()===e.$language.currentKebabCase.toLowerCase()}));return t&&t[1]}},methods:{get_flag_image:function get_flag_image(e){var t=Object(c.get_country_by_lang)(e);return"/static/img/registration/modern_countries/".concat(t.toLowerCase(),".png")},set_lang:function set_lang(e){var t=this;new a.a(i.b["api:set_lang_api"](),"set_lang").on_success((function(e,n){(new s.b).no_redirect().auth(t.$store,n),window.location.reload()})).execute(this.$store,{locale:e})}}},u=n(3),_=Object(u.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{model:{value:e.is_open,callback:function(t){e.is_open=t},expression:"is_open"}},[n("div",{staticClass:"modern-country btn-modern btn-modern-link-grey flex flex-vertical-center",class:{open:e.is_open}},[n("span",{staticClass:"hidden-xs hidden-sm text-caption mr-xs"},[e._v("\n      "+e._s(e.current_title)+"\n    ")]),e._v(" "),n("img",{staticClass:"selected-icon",attrs:{src:e.current_flag_image,height:"16px"}}),e._v(" "),n("i",{staticClass:"shp_icons-pointer_down"})]),e._v(" "),n("template",{slot:"dropdown"},[e._l(e.languages,(function(t){return[n("li",{key:t[0]},[n("a",{staticClass:"flex flex-vertical-center",attrs:{role:"button"},on:{click:function(n){n.preventDefault(),e.set_lang(t[0].slice(0,2))}}},[n("img",{staticClass:"inline-block mr-sm",attrs:{height:"22px",src:e.get_flag_image(t[0].slice(0,2))}}),e._v("\n          "+e._s(t[1])+"\n        ")])])]}))],2)],2)}),[],!1,null,null,null);t.a=_.exports},538:function(e,t,n){"use strict";var s=n(48),i=n(521),a=n(87),o={name:"MenuUserName",components:{UserAvatar:i.a},props:{user:{type:s.a,required:!1},button_classes:{type:String,default:"btn-modern-link-grey"}},methods:{logout:function logout(){(new a.a).logout(this.$store)}}},r=n(3),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{staticClass:"modern-dropdown-list fit-content",attrs:{"menu-right":""}},[n("div",{staticClass:"btn-modern text-subtext-color pr-0 flex flex-vertical-center",class:e.button_classes},[n("UserAvatar",{attrs:{user:e.user,size:"32px"}}),e._v(" "),n("i",{staticClass:"shp_icons-pointer_down"})],1),e._v(" "),n("template",{slot:"dropdown"},[n("ul",{staticClass:"modern-list-group__group"},[n("RouterLink",{staticClass:"modern-list-group__item flex flex-vertical-center",attrs:{to:{name:"account_root"},tag:"li"}},[n("i",{staticClass:"shp_icons-users_user_square mr-sm"}),e._v("\n        "+e._s(e.$gettext("Мой профиль"))+"\n      ")]),e._v(" "),e.user.is_pupil?n("RouterLink",{staticClass:"modern-list-group__item flex flex-vertical-center",attrs:{to:{name:"achievements"},tag:"li"}},[n("i",{staticClass:"shp_icons-school_award mr-sm"}),e._v("\n        "+e._s(e.$gettext("Мои достижения"))+"\n      ")]):e._e()],1),e._v(" "),n("ul",{staticClass:"modern-list-group__group"},[n("li",{staticClass:"modern-list-group__item flex flex-vertical-center",on:{click:e.logout}},[n("i",{staticClass:"shp_icons-arrow_logout mr-sm"}),e._v("\n        "+e._s(e.$gettext("Выйти из аккаунта"))+"\n      ")])])])],2)}),[],!1,null,null,null);t.a=c.exports},544:function(e,t,n){"use strict";var s={name:"MenuLogo",functional:!0},i=n(3),a={name:"MenuTopNavbar",components:{MenuLogo:Object(i.a)(s,(function(e,t){return(0,t._c)("a",{staticClass:"brand-logo img-responsive",attrs:{href:"/",alt:"Brand"}})}),[],!0,null,null,null).exports}},o=Object(i.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top-nav-bar",attrs:{role:"navigation"}},[t("div",{staticClass:"top-nav-bar__content flex flex-vertical-center flex-space-between"},[t("MenuLogo"),this._v(" "),t("div",{staticClass:"flex flex-vertical-center gap-md"},[this._t("actions")],2)],1)])}),[],!1,null,null,null);t.a=o.exports},545:function(e,t,n){"use strict";var s={name:"MenuLoginButton",methods:{to_login:function to_login(){window.location.href="/accounts/login/"}}},i=n(3),a=Object(i.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn-modern btn-modern-link flex flex-vertical-center",on:{click:this.to_login}},[this._v("\n  "+this._s(this.$gettext("Войти"))+"\n  "),t("i",{staticClass:"shp_icons-arrow_login ml-sm"})])}),[],!1,null,null,null);t.a=a.exports}}]);
//# sourceMappingURL=64.64.1ed16faa0d2445c1a9a0.js.map