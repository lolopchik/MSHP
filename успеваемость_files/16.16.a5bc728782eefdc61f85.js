(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1848:function(t,e,r){"use strict";r.d(e,"e",(function(){return c})),r.d(e,"a",(function(){return a})),r.d(e,"d",(function(){return _})),r.d(e,"b",(function(){return p})),r.d(e,"c",(function(){return l})),r.d(e,"f",(function(){return d})),r.d(e,"g",(function(){return g}));r(33),r(36),r(25),r(7),r(23),r(28),r(38);var n=r(10),i=r.n(n),s=r(13),o=r.n(s),u=r(520);function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c={fields:["id","name","type_id","date_from","solution_datetime_till","contest","classes_id","steps","is_team_enabled","private","graduation_curve_id","date_policy","lesson_id","type","is_timer_solution","solution_datetime_till","timer_field"],graduation_curve:r(1854).a},a={fields:["id","classes_id"]},_=_objectSpread(_objectSpread({},{fields:["id","name","type_id","date_from","solution_datetime_till","classes_id","total_score"]}),{},{classes:u.f}),p={fields:["id","name","type_id","date_from","date_till","solution_datetime_till","classes_id","total_score","is_have_time","is_team_enabled"]},l={fields:i()(p.fields),type:{fields:["id","type"]}},d={fields:["id","classes_id","date_from","type_id"],classes:u.g},g={fields:["id","type_id"]}},1854:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(66),i={fields:["id","author_id","created_at","is_auto_update","is_default","is_fixed","is_system","max_score","modified_at","name","organization_id","parent_id","type","mark_type_id","is_include_missed","is_auto_create"],mark_type:r(195).a,author:n.g,ranges:{fields:["id","curve_id","mark","rate","value"]}}},1890:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return a}));var n=r(145),i=r(69),s=r(269),o=r(1848),u={fields:["id","course_id","date_of","duration","is_ready_for_import"],classes_lessons:{fields:["id","classes_id","lesson_variant_id","lesson_id"],lesson:{fields:["id","name","priority"]}}},c={fields:["id","course_id"],classes_lessons:{fields:["id","classes_id","lesson_variant_id","lesson_id"]}},a={fields:["id","course_id","date_of","is_ready_for_import"],classes_lessons:n.a,course:i.e,classes_teachers:s.b,units:o.g}},1922:function(t,e,r){"use strict";r.d(e,"e",(function(){return d})),r.d(e,"c",(function(){return g})),r.d(e,"b",(function(){return f})),r.d(e,"a",(function(){return h})),r.d(e,"d",(function(){return y}));var n=r(13),i=r.n(n),s=r(10),o=r.n(s),u=(r(31),r(33),r(36),r(25),r(7),r(23),r(28),r(38),r(1937)),c=r(1960),a=r(1962),_=r(66),p={fields:["id","unit_id","classes_id"],classes:r(1890).b};function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=["id","score","contest_id"],d={fields:["id","score","contest_id","unit_id"]},g={fields:["id","user_id"]},f={fields:[].concat(o()(l),["user_id","unit_id","team_id","solved"]),testing_attempts:u.a,run_results:c.b,scratch_results:a.a},h=_objectSpread(_objectSpread({},f),{},{user:_.g}),y={fields:[].concat(o()(l),["user_id","unit_id","team_id"]),contest:p}},1937:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n={fields:["id","score","is_publish","is_finished","is_passed","date_from","date_till","testing_id","team_id","is_best","total_score","user_id","publish_date"]}},1960:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return a}));r(33),r(36),r(25),r(7),r(23),r(28),r(38);var n=r(13),i=r.n(n),s=r(10),o=r.n(s);function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var u={fields:o()(["id","user_id","enabled","type"]),feedback:function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},{fields:["id","author_id","rate"]})};function schemas_ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var c={fields:["id","problem_id","score","verdict","wrong_submit_number","unit_id","solved_time","team_id","contest_id"]},a={fields:o()(c.fields),user_features:function schemas_objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?schemas_ownKeys(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):schemas_ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},u)}},1962:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n={fields:["id","scratch_problem_id","score","user_id"],scratch_problem:{fields:["contest_id","id","task_id","unit_id"]}}},862:function(t,e,r){"use strict";r.d(e,"b",(function(){return D})),r.d(e,"a",(function(){return A}));r(26);var n,i,s,o,u=r(14),c=r.n(u),a=r(15),_=r.n(a),p=r(8),l=r.n(p),d=r(4),g=r.n(d),f=r(5),h=r.n(f),y=r(9),w=r.n(y),b=(r(11),r(7),r(12),r(25),r(43),r(23),r(65),r(28),r(893),r(18)),v=r(887),O=r(1),m=r(17),j=r.n(m),k=r(0);function _createSuper(t){var e=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var r,n=l()(t);if(e){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _()(this,r)}}var P=(n=function(){function InputAnswerScoring(t,e,r){g()(this,InputAnswerScoring),this.state=t,this.attempt=e,this.question_input=r,this._is_custom=("custom"===this.question_input.values.widget||"input"===this.question_input.values.widget)&&this.question_input.values.check_answers}return h()(InputAnswerScoring,[{key:"right_answers",get:function get(){var t=this;return this.answers.filter((function(e){return e.variant&&e.variant.values.is_answer&&(e.variant.values.checked_at&&t._is_custom||!t._is_custom)}))}},{key:"wrong_answers",get:function get(){var t=this;return this.answers.filter((function(e){return e.variant&&!e.variant.values.is_answer&&(e.variant.values.checked_at&&t._is_custom||!t._is_custom)}))}},{key:"is_answered",get:function get(){return this.right_answers.length>0}},{key:"is_errors",get:function get(){return this.wrong_answers.length>0||0===this.answers.length}},{key:"is_checked",get:function get(){return this.right_answers.length+this.wrong_answers.length===this.answers.length}},{key:"is_partial",get:function get(){return this.answers.length&!this.right_answers.length&&!this.wrong_answers.length}},{key:"has_answers",get:function get(){return this.answers.length>0}},{key:"answers",get:function get(){var t=this,e=this.state,r=e.models.testing_attempts[this.attempt.values.id].question_answers||[];return(r=r.filter((function(r){return e.models.question_answers[r]&&e.models.question_answers[r].input_id===t.question_input.values.id}))).map((function(t){return new v.a(e.models.question_answers[t],e)}))}},{key:"percent",get:function get(){return this.right_answers.length?1:0}},{key:"score",get:function get(){return this.percent*this.question_input.get_score()}},{key:"background_color",get:function get(){return this.is_checked?this.is_partial?"warning-background":this.is_errors?"error-background":"success-background":"info-background"}}]),InputAnswerScoring}(),w()(n.prototype,"right_answers",[b.a],Object.getOwnPropertyDescriptor(n.prototype,"right_answers"),n.prototype),w()(n.prototype,"wrong_answers",[b.a],Object.getOwnPropertyDescriptor(n.prototype,"wrong_answers"),n.prototype),w()(n.prototype,"answers",[b.a],Object.getOwnPropertyDescriptor(n.prototype,"answers"),n.prototype),w()(n.prototype,"score",[b.a],Object.getOwnPropertyDescriptor(n.prototype,"score"),n.prototype),n),S=(i=function(t){c()(MultipleVariantAnswerScoring,t);var e=_createSuper(MultipleVariantAnswerScoring);function MultipleVariantAnswerScoring(){return g()(this,MultipleVariantAnswerScoring),e.apply(this,arguments)}return h()(MultipleVariantAnswerScoring,[{key:"is_answered",get:function get(){var t=this;return(this.state.models.question_inputs[this.question_input.values.id].question_variants||[]).filter((function(e){return t.state.models.question_variants[e].is_answer})).length===this.right_answers.length&&!this.wrong_answers.length}},{key:"right_variants",get:function get(){return this.question_input.question_variants.filter((function(t){return t.values.is_answer}))}},{key:"is_errors",get:function get(){var t=this.question_input.values.max_errors;return t=t?parseInt(t):0,!this.right_answers.length||this.is_partial&&this.right_variants.length-this.right_answers.length+this.wrong_answers.length>t}},{key:"is_partial",get:function get(){return!this.is_answered&&this.right_answers.length>0}},{key:"percent",get:function get(){if(this.is_errors)return 0;var t=1*this.question_input.question_variants.filter((function(t){return t.values.is_answer})).length;if(this.question_input.question_variants.length===t)return this.right_answers.length/t;var e=t/(t+(this.question_input.question_variants.length-t)),r=t*(1-e);if(r<=0)return 0;var n=(this.right_answers.length*(1-e)-this.wrong_answers.length*e)/r;return Math.max(n,0)}}]),MultipleVariantAnswerScoring}(P),w()(i.prototype,"right_variants",[b.a],Object.getOwnPropertyDescriptor(i.prototype,"right_variants"),i.prototype),w()(i.prototype,"is_errors",[b.a],Object.getOwnPropertyDescriptor(i.prototype,"is_errors"),i.prototype),w()(i.prototype,"percent",[b.a],Object.getOwnPropertyDescriptor(i.prototype,"percent"),i.prototype),i);function get_input_answer_scoring(t,e,r){return"multiple_variant"===r.values.widget?new S(t,e,r):new P(t,e,r)}var q=(s=function(){function QuestionInputScoring(t,e){g()(this,QuestionInputScoring),this.question_scoring=t,this.input_scoring=e}return h()(QuestionInputScoring,[{key:"is_answered",get:function get(){return this.input_scoring.is_answered}},{key:"is_errors",get:function get(){return this.input_scoring.is_errors}},{key:"is_checked",get:function get(){return this.input_scoring.is_checked}},{key:"is_partial",get:function get(){return this.input_scoring.is_partial}},{key:"has_answers",get:function get(){return this.input_scoring.has_answers}},{key:"score",get:function get(){return this.input_scoring.score}}]),QuestionInputScoring}(),w()(s.prototype,"score",[b.a],Object.getOwnPropertyDescriptor(s.prototype,"score"),s.prototype),s),D=(o=function(){function QuestionScoring(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(O.isRequired)(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(O.isRequired)(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(O.isRequired)();g()(this,QuestionScoring),this.question=r,this.attempt=e,this.inputs_scoring=r.inputs.map((function(r){return get_input_answer_scoring(t,e,r)}))}return h()(QuestionScoring,[{key:"get_input_scoring",value:function get_input_scoring(t){return this.inputs_scoring.find((function(e){return e.question_input.values.id===t}))}},{key:"get_question_input_scoring",value:function get_question_input_scoring(t){return new q(this,this.get_input_scoring(t))}},{key:"score",get:function get(){var t=0;return this.question.values.max_errors<this.errors_amount?0:(this.inputs_scoring.forEach((function(e){t+=e.score})),t)}},{key:"errors_amount",get:function get(){return this.inputs_scoring.filter((function(t){return 0!==t.wrong_answers.length})).length}},{key:"is_checked",value:function is_checked(){var t=!0;return this.inputs_scoring.forEach((function(e){t&=e.is_checked})),t}},{key:"show_wrong_answers",get:function get(){return!(!this.attempt||!this.attempt.is_result_published())&&(this.attempt.testing&&this.attempt.testing.values.show_wrong_answers)}},{key:"is_partial",value:function is_partial(){return this.is_errors()&&this.is_have_result()}},{key:"is_have_result",value:function is_have_result(){var t=!1;return this.inputs_scoring.forEach((function(e){t|=e.is_partial})),t|=Boolean(this.inputs_scoring.find((function(t){return t.is_errors}))&&this.inputs_scoring.find((function(t){return!t.is_errors})))}},{key:"is_errors",value:function is_errors(){var t=!1;return this.inputs_scoring.forEach((function(e){t|=e.is_partial})),t|=Boolean(this.inputs_scoring.find((function(t){return t.is_errors})))}},{key:"has_answers",value:function has_answers(){var t=!1;return this.inputs_scoring.forEach((function(e){t|=e.has_answers})),t}},{key:"background_color",get:function get(){return this.has_answers()?this.is_checked()?this.is_partial()?"warning-background":this.is_errors()?"error-background":"success-background":"info-background":""}},{key:"get_label_color",value:function get_label_color(){return this.has_answers()?this.is_checked()?this.is_partial()?"label-warning":this.is_errors()?"label-danger":"label-success":"label-info":""}},{key:"score_text",value:function score_text(t){if(!(t||this.attempt.is_finished&&this.attempt.values.is_last))return Object(k.$gettext)("? баллов");var e=j.a.prototype.$ngettext("балл","балла",Math.trunc(this.score));return this.score.pretty_format(2)+" "+e}}]),QuestionScoring}(),w()(o.prototype,"score",[b.a],Object.getOwnPropertyDescriptor(o.prototype,"score"),o.prototype),w()(o.prototype,"errors_amount",[b.a],Object.getOwnPropertyDescriptor(o.prototype,"errors_amount"),o.prototype),o),A=function(){function AttemptScoring(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(O.isRequired)(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(O.isRequired)();g()(this,AttemptScoring),this.state=t,this.attempt=e,this._cache={}}return h()(AttemptScoring,[{key:"get_question_scoring",value:function get_question_scoring(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(O.isRequired)(),e=t.values.id;return this._cache.hasOwnProperty(e)||(this._cache[e]=new D(this.state,this.attempt,t)),this._cache[e]}}]),AttemptScoring}()}}]);
//# sourceMappingURL=16.16.a5bc728782eefdc61f85.js.map