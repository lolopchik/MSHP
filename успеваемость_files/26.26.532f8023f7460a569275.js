(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1856:function(e,t,a){"use strict";var s={name:"FallbackImage",props:{src:{type:[String,null],required:!1},fallback_src:{type:String,required:!0},alt:{type:String,default:""}},data:function data(){return{error:!1}},computed:{_src:function _src(){return this.src?this.error?this.fallback_src:this.src:this.fallback_src}}},i=a(3),n=Object(i.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("img",{attrs:{src:e._src,alt:e.alt},on:{error:function(t){e.error=!0},click:function(t){return e.$emit("click",t)}}})}),[],!1,null,null,null);t.a=n.exports},2033:function(e,t,a){"use strict";var s=a(10),i=a.n(s),n=(a(68),a(105),a(11),a(7),a(12),a(31),a(80)),r=a(1658),c=a(1885),l=a(1649),u={name:"user-achievements-fetcher",components:{ListFetcher:n.a},props:{limit:{type:Number,default:100},filters:{type:Array,default:function _default(){return[{applied:{orderBy:"-achieved, -achieved_datetime, -progress, type, total"}}]}},use_paginator:{required:!1,default:function _default(){return!1}}},data:function data(){return{user_achievement_model:r.a,UserAchievementData:l.a}},methods:{sort_achievements:function sort_achievements(e){return e.sort((function(e,t){return e.values.achieved&&t.values.achieved?new Date(t.values.achieved_datetime)-new Date(e.values.achieved_datetime):e.values.achieved||t.values.achieved?e.values.achieved?t.values.achieved?void 0:-1:1:e.progress?t.progress?t.progress-e.progress:-1:1}))}},computed:{all_filters:function all_filters(){var e=[{applied:{schema:JSON.stringify(c.b)}}];return this.filters.length>0&&(e=[].concat(i()(this.filters),i()(e))),e}}},v=a(3),_=Object(v.a)(u,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("list-fetcher",{attrs:{use_default_paginator:e.use_paginator,url:"api:user_achievements_list_api",model:e.user_achievement_model,limit:e.limit,filters:e.all_filters,data_presenter:e.UserAchievementData},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return[e._t("default",null,{user_achievements:e.sort_achievements(a)})]}}],null,!0)})}),[],!1,null,null,null);t.a=_.exports},2077:function(e,t,a){"use strict";a(11),a(7),a(12);var s=a(2048),i=a(1649),n={name:"UserAchievementsRoundedCard",components:{FallbackImage:a(1856).a},props:{user_achievement:{required:!0,type:i.a}},methods:{select_achievement:function select_achievement(){this.user_achievement.values.achieved&&this.$emit("select_achievement",this.user_achievement)}}},r=a(3),c=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.user_achievement.name,expression:"user_achievement.name"}],staticClass:"rounded_avatar user_achievement__slide"},[e.user_achievement.achievement?[e.user_achievement.values.achieved?a("fallback-image",{staticClass:"user_achievement__img clickable",attrs:{src:e.user_achievement.achievement.values.medium_avatar,alt:e.user_achievement.achievement.values.name,fallback_src:e.user_achievement.achievement.fallback_medium_avatar},on:{click:e.select_achievement}}):a("fallback-image",{staticClass:"user_achievement__img",attrs:{src:e.user_achievement.achievement.medium_not_achievement_avatar,fallback_src:e.user_achievement.achievement.fallback_medium_avatar,alt:e.user_achievement.achievement.values.name}})]:e._e()],2)}),[],!1,null,null,null).exports,l=(a(41),{name:"AchievementCardLayout"}),u={name:"UserAchievementsInfoCard",components:{AchievementCardLayout:Object(r.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"achievement-card-layout"},[a("div",{staticClass:"achievement-card-layout__image_container"},[e._t("image")],2),e._v(" "),a("div",{staticClass:"achievement-card-layout__description_container"},[a("div",{staticClass:"mb-xs"},[e._t("title")],2),e._v(" "),a("div",[e._t("progressbar")],2),e._v(" "),a("div",{staticClass:"mb-sm"},[e._t("under-progressbar")],2),e._v(" "),a("div",{staticClass:"mb-sm"},[e._t("description")],2),e._v(" "),a("div",{staticClass:"social-networks"},[e._t("social-networks")],2)])])}),[],!1,null,null,null).exports,ClientSocialSharing:a(1917).a},props:{user_achievement:{required:!0,type:i.a}},computed:{progress_width:function progress_width(){return"width: ".concat(this.user_achievement.progress,"%")},is_achieved:function is_achieved(){return this.user_achievement.values.achieved},achievement_src:function achievement_src(){return this.user_achievement.values.achieved?this.user_achievement.achievement.values.medium_avatar:this.user_achievement.achievement.medium_not_achievement_avatar},sharing_title:function sharing_title(){return this.$gettext("Я получил достижение")+" "+this.user_achievement.achievement.values.name}},methods:{select_achievement:function select_achievement(){this.user_achievement.values.achieved&&this.$emit("select_achievement",this.user_achievement)}}},v={name:"UserAchievementsList",components:{UserAchievementsInfoCard:Object(r.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_achievement__full_info_container"},[a("div",{staticClass:"panel full-height mb-0"},[a("div",{staticClass:"panel-body full-height"},[a("AchievementCardLayout",[a("div",{class:{clickable:e.is_achieved},attrs:{slot:"image"},on:{click:e.select_achievement},slot:"image"},[a("img",{staticClass:"media-object achievement-image",attrs:{alt:"",src:e.achievement_src}})]),e._v(" "),a("div",{staticClass:"semi-bold",attrs:{slot:"title"},slot:"title"},[e._v("\n          "+e._s(e.is_achieved?e.user_achievement.achievement.values.name:e.$gettext("Секретная награда"))+"\n        ")]),e._v(" "),a("div",{attrs:{slot:"progressbar"},slot:"progressbar"},[a("div",{staticClass:"progress progress-bar-green-success progress-small shp-clear no-margins clearfix"},[a("div",{staticClass:"progress-bar",style:e.progress_width})])]),e._v(" "),a("div",{staticClass:"text-muted-lighten",attrs:{slot:"under-progressbar"},slot:"under-progressbar"},[e.is_achieved?a("span",[e._v("\n            "+e._s(e.$gettext("Получена"))+"\n            "+e._s(e._f("moment")(e.user_achievement.values.achieved_datetime,"DD MMMM YYYY"))+"\n          ")]):a("span",[e._v("\n            "+e._s(e.user_achievement.values.progress)+" / "+e._s(e.user_achievement.values.total||1)+"\n          ")])]),e._v(" "),a("div",{staticClass:"text-muted-lighten",attrs:{slot:"description"},slot:"description"},[e._v("\n          "+e._s(e.user_achievement&&e.user_achievement.achievement.values.description)+"\n        ")]),e._v(" "),e.is_achieved?a("div",{attrs:{slot:"social-networks"},slot:"social-networks"},[a("ClientSocialSharing",{attrs:{url:e.user_achievement.share_url,title:e.sharing_title,media:e.user_achievement.media_url}})],1):e._e()])],1)])])}),[],!1,null,null,null).exports,UserAchievementsRoundedCard:c,UserAchievementsDetail:s.a},props:{user_achievements:{required:!0},rounded_achievement:{type:Boolean,required:!1,default:!0},inline:{type:Boolean,default:!1}},data:function data(){return{is_open:!1,selected_user_achievement:null}},methods:{select_achievement:function select_achievement(e){e.values.achieved&&(this.selected_user_achievement=e,this.is_open=!0)}}},_=Object(r.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["user_achievement__container",{user_achievement__inline:e.inline}]},[e.user_achievements.length>=5?[e._l(e.user_achievements,(function(t){return[e.rounded_achievement?a("UserAchievementsRoundedCard",{key:t.values.id,attrs:{user_achievement:t},on:{select_achievement:e.select_achievement}}):a("UserAchievementsInfoCard",{key:t.values.id,attrs:{user_achievement:t},on:{select_achievement:e.select_achievement}})]})),e._v(" "),e.rounded_achievement?e._l(4,(function(e){return a("div",{key:"achievement_dummy:"+e,staticClass:"user_achievement__dummy"})})):e._e()]:e._l(e.user_achievements.length,(function(t){return a("UserAchievementsInfoCard",{key:"achievement_dummy:"+t,attrs:{user_achievement:e.user_achievements[t-1]}})})),e._v(" "),e.selected_user_achievement?a("UserAchievementsDetail",{attrs:{user_achievement_id:e.selected_user_achievement.id,is_open:e.is_open},on:{"update:is_open":function(t){e.is_open=t}}}):e._e()],2)}),[],!1,null,null,null);t.a=_.exports}}]);
//# sourceMappingURL=26.26.532f8023f7460a569275.js.map