(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{2111:function(t,r,i){"use strict";i.d(r,"b",(function(){return group_subjects_by_years})),i.d(r,"a",(function(){return get_attendances}));i(11),i(7),i(12),i(25),i(28),i(70),i(82),i(41),i(88),i(29),i(53),i(36),i(116),i(117);var o=i(1),a=i(4),u=i.n(a),c=i(5),l=i.n(c),d=i(21),_=i(45);(function(){function FakeTeachersSubjectsModelUpdater(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.isRequired)(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(o.isRequired)();u()(this,FakeTeachersSubjectsModelUpdater),this.$store=t,this.model=r}l()(FakeTeachersSubjectsModelUpdater,[{key:"add_item",value:function add_item(t){d.c.update_instance(this.model)(this.$store,{data:{id:t,subject_id:t}})}},{key:"remove_item",value:function remove_item(t){new _.a([t],this.model).force().collect(this.$store)}},{key:"destroy",value:function destroy(t){new _.a(t,this.model).force().collect(this.$store)}}])})(),i(377);function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var o=0,a=function F(){};return{s:a,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,c=!0,l=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return c=t.done,t},e:function e(t){l=!0,u=t},f:function f(){try{c||null==i.return||i.return()}finally{if(l)throw u}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function group_subjects_by_years(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclude_virtual_courses:!1},o={},a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var u=r.value;if(!i.exclude_virtual_courses||!u.course.is_virtual){var c=u.get_year(),l=u.course.values.school_subject_id;o[c]||(o[c]=[]),o[c].indexOf(l)<0&&o[c].push(l)}}}catch(t){a.e(t)}finally{a.f()}return o}function get_attendances(t){var r=this.$store.state.models.attendances,i=void 0===r?{}:r,o=(t=t.filter((function(t){return t.values.pupil_attendances&&t.values.pupil_attendances.length>0}))).length,a=0;return t.forEach((function(t){a+=""===i[t.values.pupil_attendances[0]].status})),{come_count:a,total_count:o}}},2219:function(t,r,i){"use strict";i(105),i(33);var o=i(287),a=i(2111),u={name:"ClientSubjectsMenu",components:{ThirdLevelMenu:o.a},props:{pupil_courses:{type:Array,required:!0},title:{type:String,required:!0}},data:function data(){return{storage_key:this.$store.state.login.user_data.id+":ClientSubjectsMenu:active_year",active_year:null}},mounted:function mounted(){var t=localStorage.getItem(this.storage_key);t&&(this.active_year=t)},computed:{school_subjects_ids_by_year:function school_subjects_ids_by_year(){return Object(a.b)(this.pupil_courses)},course_years:function course_years(){return Object.keys(this.school_subjects_ids_by_year).sort((function(t,r){return"other"===r?-1:"other"===t?1:r-t}))}},methods:{select_year:function select_year(t){this.active_year=t,localStorage.setItem(this.storage_key,t)}},watch:{course_years:{handler:function handler(t){(!this.active_year||t.indexOf(this.active_year)<0)&&(this.active_year=t[0])},immediate:!0}}},c=i(3),l=Object(c.a)(u,(function(){var t=this,r=t.$createElement,i=t._self._c||r;return i("ThirdLevelMenu",{scopedSlots:t._u([{key:"title",fn:function(){return[i("span",{staticClass:"visible-xs"},[t._v(t._s(t.title))])]},proxy:!0},{key:"content",fn:function(){return[t.course_years.length?i("div",{staticClass:"flex-sm clearfix mb"},[i("ul",{staticClass:"nav nav-tabs modern-nav-tabs-regular"},t._l(t.course_years,(function(r){return i("li",{key:r,class:{active:t.active_year===r}},[i("a",{on:{click:function(){return t.select_year(r)}}},[i("span","other"!==r?[t._v(t._s(r)+" / "+t._s(Number(r)+1))]:[t._v(t._s(t.$gettext("Другие")))])])])})),0),t._v(" "),t._t("right-side")],2):[t._t("no-items",(function(){return[i("div",{staticClass:"flex-column flex-center flex-vertical-center",staticStyle:{"min-height":"80px"}},[i("div",[t._v(t._s(t.$gettext("У вас нет курсов на изучении.")))]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$gettext("Найдите свой курс в разделе")))]),t._v(" "),i("RouterLink",{attrs:{to:{name:"client_course_registrations"}}},[t._v("\n              "+t._s(t.$gettext('"Запись на курсы"'))+"\n            ")])],1)])]}))],t._v(" "),t.active_year?i("div",{key:t.active_year},[t._t("default",null,{active_year:t.active_year,school_subjects_ids_by_year:t.school_subjects_ids_by_year})],2):t._e()]},proxy:!0}],null,!0)})}),[],!1,null,null,null);r.a=l.exports},524:function(t,r,i){"use strict";i.d(r,"a",(function(){return y})),i.d(r,"e",(function(){return g})),i.d(r,"k",(function(){return v})),i.d(r,"f",(function(){return m})),i.d(r,"g",(function(){return b})),i.d(r,"b",(function(){return h})),i.d(r,"c",(function(){return j})),i.d(r,"d",(function(){return x})),i.d(r,"j",(function(){return O})),i.d(r,"n",(function(){return w})),i.d(r,"m",(function(){return k})),i.d(r,"l",(function(){return S})),i.d(r,"h",(function(){return A})),i.d(r,"i",(function(){return T}));i(33),i(36),i(25),i(7),i(23),i(28),i(38);var o=i(13),a=i.n(o),u=i(10),c=i.n(u),l=i(69),d=i(78),_=(d.a,i(427)),p=i(356);function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){a()(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}var y={fields:["id","pupil_id","course_id"]},g={fields:["id","pupil_id","course_id"],course:l.h},v={fields:["id","pupil_id","course_id","date_from","date_till","course_type"],course:l.p},m={fields:c()(v.fields),course:l.j},b={fields:c()(v.fields),course:l.r},h=(l.b,{fields:["id","pupil_id","course_id","date_from","date_till","course_type"],course:l.f}),j={fields:["id","pupil_id","course_id","date_from","date_till","course_type"],course:l.g},x=_objectSpread(_objectSpread({},h),{},{fields:["id","pupil_id","course_id","date_from","date_till","course_type","average_rates"],subject_marks:{fields:["id","rate","comment","published","school_subject_id","course_id"]},pupil_attendances:_.c,subject_part_marks:{fields:["id","comment","published","rate","subject_part_id","course_part_id","date_of","pupil_id"]},classes_marks:p.a}),O=_objectSpread(_objectSpread({},{fields:["id","pupil_id","course_id","date_from","date_till","course_type"],course:{fields:["id","original_course_id","school_subject_id","date_from","date_till","simplest_name","usage","school_id"],course_parts:d.b}}),{},{fields:["id","pupil_id","course_id","date_from","date_till"],pupil_attendances:_.c,classes_marks:p.b}),w=(p.a,{fields:["id","course_id","date_from","date_till"],course:l.C}),k={fields:["id","course_id","date_from","date_till"],course:l.B},S={fields:["id","pupil_id","course_id","date_from","date_till","course_type"],course:l.x},A={fields:["id","course_id"],course:l.s},T={fields:["id","course_id","course_type","date_from","date_till"],course:l.t}},755:function(t,r,i){"use strict";i.d(r,"a",(function(){return u})),i.d(r,"b",(function(){return c})),i.d(r,"c",(function(){return update_model_solve_types}));i(7),i(28),i(70),i(82),i(41),i(88),i(29),i(53),i(36),i(116),i(117),i(11),i(12);var o=i(0),a=i(375);function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var o=0,a=function F(){};return{s:a,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,c=!0,l=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return c=t.done,t},e:function e(t){l=!0,u=t},f:function f(){try{c||null==i.return||i.return()}finally{if(l)throw u}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}var u=[["tex","latex"],["html","html"]],c={tex:"latex",html:"html",text:Object(o.$gettext)("текст"),bbcode:"bbcode"};function update_model_solve_types(t){var r,i=_createForOfIteratorHelper(a.d);try{for(i.s();!(r=i.n()).done;){var o=r.value;t[o[0]]=!1}}catch(t){i.e(t)}finally{i.f()}return(t.solve_types||[]).forEach((function(r){t[r]=!0})),t}},756:function(t,r,i){"use strict";i.d(r,"a",(function(){return icon_by_extension_and_mime}));for(var o={},a=0,u=["bmp.png","png.png","html.png","txt.png","mov.png","mpeg.png","psd.png","zip.png","jpg.png","PL.png","wmv.png","mp4.png","wma.png","gif.png","rar.png","wav.png","doc.png","docx.png","avi.png","css.png","pdf.png","tiff.png","mp3.png","xlsx.png","xls.png","pptx.png","ppt.png","proj.png","pst.png","pub.png","readme.png","vsd.png","midi.png","ini.png","fla.png","accdb.png","settings.png","url.png","jsf.png","ods.png"];a<u.length;a++){var c=u[a];o[c.split(".")[0]]=c}function icon_by_extension_and_mime(t,r){var i=o[t.toLowerCase()];return i||(r.indexOf("audio/")>=0?i="audio.png":r.indexOf("video/")>=0?i="video.png":r.indexOf("image/")>=0?i="image.png":r.indexOf("text")>=0&&(i="text.png")),function path(t){return"/static/file_icons/"+t}(i||"unknown.png")}}}]);
//# sourceMappingURL=47.47.d762279d3eaab6fc5de5.js.map