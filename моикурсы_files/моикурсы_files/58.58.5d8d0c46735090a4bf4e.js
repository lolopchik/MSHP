(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{1834:function(t,e,s){"use strict";s.d(e,"b",(function(){return c})),s.d(e,"a",(function(){return _}));var i=s(4),n=s.n(i),r=s(5),a=s.n(r),o=(s(11),s(7),s(12),s(153),s(105),s(25),s(43),s(53),s(96),s(374)),u=s(268),l=s(132),c=function(){function UnitNavigator(t,e){var s;n()(this,UnitNavigator),this.classes_id=t,this.state=e,this.prefix=this.state.result.is_preview_mode?"results_":"",this.is_client=!!this.state.result.is_preview_mode||this.state.login.user_data.is_client,this.classes=this.state.models.classes&&this.state.models.classes[t]&&new u.a(this.state.models.classes[t],this.state),this.course_id=null===(s=this.classes)||void 0===s?void 0:s.values.course_id,this.is_abstract=this.classes&&"A"===this.classes.course.values.usage,this.is_abstract&&(this.prefix="abstract_"+this.prefix)}return a()(UnitNavigator,[{key:"units_ids",get:function get(){var t=this,e=[],s=this.state.models.units&&Object.values(this.state.models.units);return s&&(s.sort((function(t,e){return t.number-e.number})),this.prefix&&!this.is_abstract&&(s=s.filter((function(t){return!1===t.private}))),s.map((function(s){String(s.classes_id)===String(t.classes_id)&&e.push(s.id)}))),e}},{key:"route",value:function route(t){var e=this.units_ids;if(e.length){var s={unit_id:e[0],classes_id:this.classes_id};this.is_abstract&&this.course_id&&(s.course_id=this.course_id),t.replace({name:this.prefix+"unit_content",params:s})}else this.is_client||(this.is_abstract?t.replace({name:this.prefix+"classes_lessons_add_theme"}):t.replace({name:this.prefix+"classes_lessons"}))}},{key:"next",value:function next(t){var e=this.units_ids;if(e.length){var s={unit_id:e[0]};t({name:this.prefix+"unit_content",params:s})}else this.is_client||(this.is_abstract?t({name:this.prefix+"classes_lessons_add_theme"}):t({name:this.prefix+"classes_lessons"}))}},{key:"get_link",value:function get_link(){var t=this.units_ids;if(t.length){var e={unit_id:t[0]};return{name:this.prefix+"unit_content",params:e}}return this.is_client?{name:this.prefix+"classes_content"}:this.is_abstract?{name:this.prefix+"classes_lessons_add_theme"}:{name:this.prefix+"classes_lessons"}}},{key:"to_step_content_root",value:function to_step_content_root(t,e){t.replace({name:this.prefix+"step_content_root",params:e})}},{key:"to_unit_content",value:function to_unit_content(t,e){t.push({name:this.prefix+"unit_content",params:e})}}]),UnitNavigator}(),_=function(){function UnitImportNavigator(t,e,s){n()(this,UnitImportNavigator),this.classes_id=e,this.import_id=t,this.state=s}return a()(UnitImportNavigator,[{key:"route",value:function route(t){var e=this.state.models.classes[this.import_id].units;if(e.length&&this.state.models.units[e[0]]){var s=new o.a(this.state.models.units[e[0]],this.state),i={unit_id:e[0],classes_id:this.classes_id,import_id:this.import_id,step_id:s.steps.length&&s.steps[0].values.id},n=Object(l.c)(t.currentRoute,"import_step_content");t.replace({name:n,params:i})}else if(!this.state.login.user_data.is_client){var r=Object(l.c)(t.currentRoute,"classes_lessons");t.replace({name:r})}}},{key:"next",value:function next(t){var e=this.units_ids;e.length?t({name:"import_step_content",params:{unit_id:e[0]}}):this.state.login.user_data.is_client||t({name:"classes_lessons"})}},{key:"get_link",value:function get_link(){var t=this.units_ids;return t.length?{name:"import_step_content",params:{unit_id:t[0]}}:this.state.login.user_data.is_client?{name:"classes_content"}:{name:"classes_lessons"}}}]),UnitImportNavigator}()},1921:function(t,e,s){"use strict";s.d(e,"a",(function(){return l})),s.d(e,"b",(function(){return c}));s(33),s(36),s(25),s(7),s(23),s(28),s(38);var i=s(13),n=s.n(i),r=s(66);function ownKeys(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var a=_objectSpread(_objectSpread({},{fields:["id","team_id","user_id"]}),{},{user:r.g});function schema_ownKeys(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function schema_objectSpread(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?schema_ownKeys(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):schema_ownKeys(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var o={fields:["id","name","is_auto","is_request","is_editable","logo"]},u=schema_objectSpread(schema_objectSpread({},o),{},{teammates:a});function schemas_ownKeys(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function schemas_objectSpread(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?schemas_ownKeys(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):schemas_ownKeys(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var l={fields:["id","score","classes_id","team_id"],team:o},c=schemas_objectSpread(schemas_objectSpread({},l),{},{team:u})},1936:function(t,e,s){"use strict";s.d(e,"b",(function(){return u})),s.d(e,"a",(function(){return l})),s.d(e,"c",(function(){return c}));var i=s(1848),n=s(1922),r=s(1937),a=s(1960),o=s(1962),u={fields:["id","unit_id","user_id","solution_datetime_till","date_from","date_till","is_finished","is_infinity","is_started","publish_date"],unit:i.d,contest_results:n.e},l={fields:["id","unit_id","user_id","solution_datetime_till","date_from","date_till","is_finished","is_infinity","is_started","publish_date"],unit:i.c,contest_results:n.e},c={fields:["id","user_id","unit_id","date_from","date_till","publish_date","is_started","is_infinity","time_to_pass","is_custom","is_timer_solution","solution_datetime_till","timer_field","is_finished","team_id"],testing_attempts:r.a,run_results:a.a,scratch_results:o.a,unit:i.b}},1980:function(t,e,s){"use strict";s(31);var i=s(1711),n={name:"unit-progress-donut",components:{Peity:s.n(i).a},props:{color:{required:!0,type:String},max_score:{required:!0},score:{required:!0},size:{default:function _default(){return{width:20,height:20}}},is_plug:{type:Boolean,required:!1,default:!1}},computed:{tooltip_text:function tooltip_text(){if(this.is_plug)return"";if(!this.max_score)return"";var t=null!==this.score?this.score:"-";return this.$gettext("Набрано баллов")+": ".concat(t," ").concat(this.$gettext("из")," ").concat(this.max_score)},floor_score:function floor_score(){return Math.floor(this.score)}}},r=s(3),a=Object(r.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return void 0!==t.max_score?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip_text,expression:"tooltip_text"}],staticClass:"text-bottom",staticStyle:{"line-height":"0"}},[t.is_plug?s("peity",{attrs:{type:"pie",options:{fill:["#dddddd","#dddddd"],width:t.size.width,height:t.size.height,innerRadius:t.size.width/6,radius:t.size.width/2},data:[100].toString()}}):t.max_score?s("peity",{attrs:{type:"pie",options:{fill:[t.color,"#dddddd"],width:t.size.width,height:t.size.height,innerRadius:t.size.width/6,radius:t.size.width/2},data:[t.floor_score||0,t.max_score-(t.floor_score||0)].toString()}}):s("peity",{attrs:{type:"pie",options:{fill:[t.color],width:t.size.width,height:t.size.height,innerRadius:t.size.width/6,radius:t.size.width/2},data:[100].toString()}})],1):t._e()}),[],!1,null,null,null);e.a=a.exports},2049:function(t,e,s){"use strict";s(65),s(7),s(153),s(11),s(12);var i=s(374),n=s(1631),r=s(22),a=s(1617),o=s(21),u=s(522),l=s(1834),c={name:"unit-menu-client-timer",props:{unit:{required:!0,type:i.a},unit_navigator:{type:l.b,required:!0}},data:function data(){var t=this,e=this.$store.state.login.user_data.id,s=Object.values(this.$store.state.models.unit_users).find((function(s){return s.user_id===e&&s.unit_id===t.unit.values.id})),i=s&&new a.a(s,this.$store.state);return{time_to_pass:i&&i.values.time_to_pass||this.unit.values.time_to_pass,unit_user:i,unit_timing:Object(u.b)(this.$store.state,this.unit.values.id)}},methods:{start_unit_passing:function start_unit_passing(){var t="unit_user:".concat(this.unit_user.values.id);new o.a(r.b["api:unit_user_start_api"](this.unit_user.values.id),t).on_error(o.c.show_errors(t,!0)).on_success(o.c.update_instance(n.a)).on_success(this.route).execute(this.$store,{})},route:function route(){this.unit.steps&&this.unit.steps.length&&this.unit_navigator.to_step_content_root(this.$router,{step_id:this.unit.steps[0].values.id})}}},_=s(3),d=Object(_.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("div",{staticClass:"unit-menu-client-timer__timer"},[s("span",{staticClass:"text-muted"},[t._v(t._s(t.$gettext("время на выполнение")))]),t._v(" "),s("h3",[t._v(t._s(t.time_to_pass+":00"))])]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.$store.state.login.user_data.is_pupil},on:{click:t.start_unit_passing}},[t._v("\n      "+t._s(t.$gettext("Начать прохождение"))+"\n  ")])])}),[],!1,null,null,null);e.a=d.exports},2264:function(t,e,s){"use strict";var i={name:"ClassesMenuExpand"},n=s(3),r=Object(n.a)(i,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"clickable flex flex-end classes_units_list__unit_hide position-sticky",staticStyle:{"margin-top":"3px"}},[e("i",{staticClass:"icon-double-angle-right pull-right h2 clickable",staticStyle:{"z-index":"1000",padding:"4px 12px",margin:"0"}})])])}],!1,null,null,null);e.a=r.exports},2265:function(t,e,s){"use strict";var i={name:"ClassesMenuCollapse"},n=s(3),r=Object(n.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"clickable flex flex-end m-b-sm classes_units_list__unit_hide"},[e("span",{staticClass:"classes_units_list__hide_container"},[e("span",{staticClass:"relative classes_units_list__hide_text"},[this._v(this._s(this.$gettext("Свернуть")))]),this._v(" "),e("i",{staticClass:"icon-double-angle-left h2"})])])}),[],!1,null,null,null);e.a=r.exports},2364:function(t,e,s){"use strict";var i=s(294),n=s(2264),r=s(1732),a=s(2265),o=s(268),u=s(533),l=s(1628),c={name:"ClientClassesArrows",components:{ClientClassesArrowsProvider:s(2416).a},props:{classes:{required:!0,type:o.a},tooltip:{default:!1}}},_=s(3),d=Object(_.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ClientClassesArrowsProvider",{attrs:{classes:t.classes},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.has_next_class,n=e.has_previous_class,r=e.next,a=e.prev;return[[s("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip?t.$gettext("Предыдущее занятие"):null,expression:"tooltip ? $gettext('Предыдущее занятие'): null"}],staticClass:"prev_classes_link",class:{disabled:!n},attrs:{gettext:"Предыдущее занятие"},on:{click:a}},[s("i",{staticClass:"icon-long-arrow-left"}),t._v(" "),s("span",{staticClass:"caption"},[t._v("\n          "+t._s(t.$gettext("Предыдущее занятие"))+"\n        ")])]),t._v(" "),s("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip?t.$gettext("Следующее занятие"):null,expression:"tooltip ? $gettext('Следующее занятие'): null"}],staticClass:"next_classes_link",class:{disabled:!i},attrs:{gettext:"Следующее занятие"},on:{click:r}},[s("span",{staticClass:"caption"},[t._v("\n          "+t._s(t.$gettext("Следующее занятие"))+"\n        ")]),t._v(" "),s("i",{staticClass:"icon-long-arrow-right"})])]]}}])})}),[],!1,null,null,null).exports,p=s(1257),m={name:"ClassesMenuContainer",components:{ClientClassesArrows:d,FadeTransition:l.a,SlideXLeftTransition:l.b,ClassesMenuCollapse:a.a,ShpAside:r.a,ClassesMenuExpand:n.a,ResponsiveWidth:i.a},props:{classes:{required:!0,type:o.a}},data:function data(){return{menu_size:new u.b(this)}},computed:{is_modern_classes:function is_modern_classes(){return Object(p.b)(this.$route,"modern_classes")}},methods:{get_content_width:function get_content_width(t,e){return this.is_modern_classes?Object(u.c)(!0,!1):Object(u.c)(t,e)}}},f=Object(_.a)(m,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ResponsiveWidth",{attrs:{max_width:1200,storage_key:"classes_menu"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.menu_handler,n=e.is_lg;return s("div",{staticClass:"unit__menu",class:{"unit-menu__lg":n}},[s("div",{class:{flex:n||!i.show,unit__menu__collapsed:!i.show}},[t.is_modern_classes?t._e():[i.show?t._e():s("div",{staticClass:"pr"},[s("ClassesMenuExpand",{nativeOn:{click:function(t){return i.toggle_menu_show(!0)}}}),t._v(" "),t.$store.state.result.is_preview_mode?t._e():s("ClientClassesArrows",{staticClass:"classes__navigation m-t",attrs:{classes:t.classes,tooltip:!0}})],1),t._v(" "),s("slide-x-left-transition",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"menu_handler.show"}]},[s("div",{directives:[{name:"show",rawName:"v-show",value:i.show,expression:"menu_handler.show"}],staticClass:"unit-menu flex-1",class:{"unit-menu-mini":!t.menu_size.is_large}},[s("shp-aside",{attrs:{is_enabled:n}},[i.show?s("ClassesMenuCollapse",{nativeOn:{click:function(t){return i.toggle_menu_show(!1)}}}):t._e(),t._v(" "),t.$store.state.result.is_preview_mode?t._e():s("ClientClassesArrows",{staticClass:"classes__navigation clearfix m-b-sm",attrs:{classes:t.classes}}),t._v(" "),t._t("side-menu")],2)],1)])],t._v(" "),s("div",{style:t.get_content_width(i.show,n),attrs:{id:"classes_contest"+t.classes.values.id}},[s("fade-transition",[t._t("content")],2)],1)],2)])}}],null,!0)})}),[],!1,null,null,null);e.a=f.exports},2376:function(t,e,s){"use strict";s(33),s(36),s(23),s(28),s(38);var i=s(13),n=s.n(i),r=(s(130),s(43),s(25),s(7),s(11),s(12),s(80)),a=s(428),o=s(657),u=s(245),l=s(326),c=s(27),_=s(1876),d=s(1936),p=s(1625),m=s(1921),f=s(891),h=s(881);function ownKeys(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var v={name:"ClientClassesContentFetcher",components:{ListFetcher:r.a},props:{classes_id:{required:!0},unit_filter:{default:function _default(){return[]}},is_fetch_teams:{required:!0}},data:function data(){var t=Object(l.b)(this.$store.state);return{classes_model:u.a,unit_model:a.b,unit_users_results:o.a,classes_teams_model:f.a,ContestResultBase:p.a,ClassesTeamData:h.a,user_id:t}},computed:{classes_team_filter:function classes_team_filter(){return[{applied:{classes_id:this.classes_id,team__teammate__user_id:this.user_id,schema:JSON.stringify(m.b)}}]}},methods:{set_unit_user_ids:function set_unit_user_ids(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.$store.commit("unit_users/add_ids",e),this.$emit("unit_users_fetched",e)},get_unit_user_filter:function get_unit_user_filter(t){var e={};return this.$store.state.result.is_preview_mode&&(e={team__teammate__user_id:this.user_id,unit__classes_id:this.classes_id}),[{applied:_objectSpread(_objectSpread({},e),{},{unit_id__in:t.join(","),for_team:!0,schema:JSON.stringify(d.c)})}]},get_results:function get_results(t){var e=this,s=t.filter((function(t){return t.values.user_id===e.user_id})).map((function(t){return t.values.unit_id}));t=t.filter((function(t){return s.indexOf(t.values.unit_id)>=0}));var i=Object(c.f)(t,(function(t){return t.values.unit_id}));return Object(c.i)(i,(function(t){return new _.a(e.$store.state,t)}))}}},b=s(3),g=Object(b.a)(v,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("list-fetcher",{attrs:{model:t.unit_model,url:"api:classes_unit_header_list_api",params:[t.classes_id],filters:t.unit_filter},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.list;return[s("list-fetcher",{attrs:{model:t.unit_users_results,data_presenter:t.ContestResultBase,url:"api:unit_users_results_list_api",is_need:i.ids.length>0,on_fetch_callback:t.set_unit_user_ids,filters:t.get_unit_user_filter(i.ids),watch_key:i.ids.join(","),limit:100},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data;return[s("list-fetcher",{attrs:{url:"api:classes_teams_list_api",model:t.classes_teams_model,filters:t.classes_team_filter,data_presenter:t.ClassesTeamData,is_need:t.is_fetch_teams},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return[t._t("default",null,{results:t.get_results(n),classes_team:t.is_fetch_teams?s[0]:null,unit_ids:i.ids})]}}],null,!0)})]}}],null,!0)})]}}])})}),[],!1,null,null,null);e.a=g.exports},2394:function(t,e,s){"use strict";s(11),s(7),s(12);var i=s(1980),n=s(2049),r=s(1931),a=s(2405),o=s(1932),u=s(2406),l=s(374),c=s(522),_=s(2102),d=s(1876),p=s(1834),m={name:"ClientUnitMenuDetail",components:{ScratchProblemScore:_.a,UnitProgressDonut:i.a,UnitMenuClientTimer:n.a,UnitMenuStepsList:r.a,RunResultScore:a.a,UnitMenu:o.a,TestingAttemptScore:u.a},props:{unit:{type:l.a,required:!0},unit_detail_links:{required:!0},result:{required:!0,type:d.a}},data:function data(){return{unit_timing:Object(c.b)(this.$store.state,this.unit.values.id),unit_navigator:new p.b(+this.$route.params.classes_id,this.$store.state)}},computed:{unit_user:function unit_user(){return Object(c.c)(this.$store.state,this.unit.values.id)}}},f=s(3),h=Object(f.a)(m,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("unit-menu",{attrs:{unit:t.unit,links:t.unit_detail_links},scopedSlots:t._u([{key:"unit-content",fn:function(e){return t.unit_user?[t.unit_user.values.is_timer_solution&&!t.unit_user.values.is_started&&t.unit_timing.is_finished()?[s("h4",{staticClass:"text-center"},[t._v("\n        "+t._s(t.$gettext("Блок окончен"))+"\n      ")])]:t.unit_user.values.is_timer_solution&&!t.unit_user.values.is_started?s("unit-menu-client-timer",{attrs:{unit:e.unit,unit_navigator:t.unit_navigator}}):s("unit-menu-steps-list",{attrs:{unit:e.unit,links:e.links,links_disabled:e.links_disabled,is_element_required:e.is_element_required},scopedSlots:t._u([{key:"score",fn:function(e){return["problem"===e.step_element.values.type?s("div",{staticClass:"inline-block"},[s("run-result-score",{attrs:{unit_timing:t.unit_user.unit_timing,run_result:t.result.get_problem_result(e.step_element.problem.values.problem_id),problem:e.step_element.problem}})],1):"testing"===e.step_element.values.type?s("div",{staticClass:"inline-block"},[s("testing-attempt-score",{attrs:{attempt:t.result.get_attempt_result(e.step_element.testing.values.id),testing:e.step_element.testing}})],1):"scratch"===e.step_element.values.type?s("div",{staticClass:"inline-block"},[s("scratch-problem-score",{attrs:{unit_timing:t.unit_user.unit_timing,scratch_problem_results:t.result.get_scratch_problem_result(e.step_element.values.scratch_problem_id)}})],1):t._e()]}}],null,!0)})]:void 0}}],null,!0)},[s("span",{staticClass:"inline-block",attrs:{slot:"unit-icon"},slot:"unit-icon"},[s("unit-progress-donut",{attrs:{color:t.unit.color_value,max_score:t.unit.get_score(),score:t.unit_timing.is_result_published()?t.result.score:0}})],1)])}),[],!1,null,null,null);e.a=h.exports},269:function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"b",(function(){return r}));var i=s(56),n={fields:["id","classes_id","teacher_id","role","is_teacher","is_on_classes"],teacher:i.b},r={fields:["id","classes_id","teacher_id","role","is_teacher","is_on_classes"],teacher:i.g}},326:function(t,e,s){"use strict";s.d(e,"a",(function(){return get_current_pupil})),s.d(e,"b",(function(){return get_current_user_id}));s(11),s(7),s(12);var i=s(1),n=s(172);function get_current_pupil(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.isRequired)();if(t.login.representative_pupil_id&&t.models.pupils){var e=t.models.pupils[t.login.representative_pupil_id];if(e)return new n.a(e,t)}var s=t.login.user_data.user_id;if(t.models.users&&t.models.users[s]){var r=t.models.users[s].pupil;return t.models.pupils[r]&&new n.a(t.models.pupils[r],t)}}function get_current_user_id(t){if(t.result&&t.result.is_preview_mode)return t.result.user_id;if(t.login.user_data.is_representative){var e=get_current_pupil(t);if(e)return e.values.user_id}return t.login.user_data.id}},520:function(t,e,s){"use strict";s.d(e,"e",(function(){return g})),s.d(e,"b",(function(){return w})),s.d(e,"i",(function(){return y})),s.d(e,"j",(function(){return O})),s.d(e,"k",(function(){return d})),s.d(e,"g",(function(){return m})),s.d(e,"h",(function(){return f})),s.d(e,"a",(function(){return h})),s.d(e,"f",(function(){return v})),s.d(e,"c",(function(){return p})),s.d(e,"d",(function(){return b}));s(33),s(36),s(25),s(7),s(23),s(28),s(38);var i=s(10),n=s.n(i),r=s(13),a=s.n(r),o=s(69),u=s(145),l=s(136),c=s(269),_=s(140);function ownKeys(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(s),!0).forEach((function(e){a()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={fields:["id","course_id","datetime_begin","datetime_end"]},p={fields:["id","course_id","date_of","datetime_begin","datetime_end","classroom_id"],classroom:l.a,classes_lessons:u.a,classes_teachers:c.a},m=_objectSpread(_objectSpread({},p),{},{course:o.i}),f=(l.a,c.a,{fields:["id","course_id","teacher_id","curator_id","date_of","datetime_begin","datetime_end","datetime_begin_min","timing_id","classroom_id","duration"],classes_lessons:u.a,classroom:l.a}),h={fields:["id","original_classes_id","course_id","teacher_id","curator_id","date_of","datetime_begin","datetime_end","datetime_begin_min","timing_id","classroom_id","duration","is_evaluation"]},v={fields:["id","course_id","date_of","datetime_begin","datetime_end","classroom_id"],course:o.i,classes_lessons:u.a},b={fields:["id","course_id","date_of","datetime_begin","datetime_end","duration","classroom_id","need_rate_at"],classroom:l.a,classes_teachers:c.a,classes_lessons:u.a,course:o.p},g={fields:["id","date_of","course_id"],classes_lessons:u.b,classes_teachers:c.a},w={fields:["id","course_id","datetime_begin","datetime_end","date_of","duration"]},y={fields:["id","course_id","date_of","teacher_id","timing_id","classroom_id"],classes_teachers:c.a,timing:_.b,classroom:l.a,course:o.d},O={fields:n()(h.fields),course:o.A,timing:_.c,classroom:l.a}},657:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var i=s(6),n=s(330),r=s(658),a=s(707),o=new i.a("unit_users").add_related("testing_attempts",new i.b(n.a).multiple().remove_without_relations()).add_related("run_results",new i.b(r.a).multiple().remove_without_relations()).add_related("scratch_results",new i.b(a.a).multiple().remove_without_relations())}}]);
//# sourceMappingURL=58.58.5d8d0c46735090a4bf4e.js.map