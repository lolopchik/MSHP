(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1257:function(e,t,s){"use strict";s.d(t,"c",(function(){return get_current_menu_item})),s.d(t,"d",(function(){return get_menu_item})),s.d(t,"b",(function(){return get_closest_route_meta_param})),s.d(t,"a",(function(){return catch_old_page_clicks}));var n=s(10),r=s.n(n),i=(s(41),s(65),s(7),s(70),s(102),s(103),s(53),s(96),s(11),s(29),s(12),s(884),s(637),s(190)),u=s(1);function find_current_item(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(u.isRequired)(),t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,n=e.names_map[s.name];if(!n){var r=t.currentRoute.matched.slice().reverse().find((function(t){return e.names_map[t.name]}));r&&(n=e.names_map[r.name])}return n}function get_current_menu_item(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(u.isRequired)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(u.isRequired)(),s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(u.isRequired)(),n=find_current_item(e,t,s);return n?new i.b(n,t):null}function get_menu_item(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(u.isRequired)(),t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!t)return null;var r=find_current_item(e,t,s);return r&&(r=r.get_from_root(n),r=new i.b(r,t)),r}function get_closest_route_meta_param(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(u.isRequired)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(u.isRequired)(),s=r()(e.matched||[]).reverse(),n=s.find((function(e){return e.meta&&e.meta[t]}));return n&&n.meta[t]}var a=["get-modal-btn","toggle-btn","get_tab_btn","ajax_btn","file-input-wrapper"],l=["change-url-btn"];function catch_old_page_clicks(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(u.isRequired)(),s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(u.isRequired)(),n=s.target;if("A"===(null===(e=n.parentElement)||void 0===e?void 0:e.tagName)&&(n=n.parentElement),"A"===n.tagName&&"_blank"!==n.target&&!a.some((function(e){return n.classList.contains(e)}))&&!n.href.includes("#extended_filters")&&!(n.origin&&n.origin!==window.location.origin||(s.preventDefault(),l.some((function(e){return n.classList.contains(e)}))))){var i=n.href.replace(n.origin,"");if(i.length){var o=new URL(n.href).searchParams;if("/"!==r()(i).reverse().shift()&&0===o.size&&(i+="/"),s.ctrlKey)return window.open(i,"_blank");t.push({path:i})}}}},1876:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return sort_contest_results}));var n=s(4),r=s.n(n),i=s(5),u=s.n(i),a=(s(11),s(7),s(12),s(153),s(31),s(25),s(28),s(65),s(105),s(70),s(82),s(41),s(88),s(29),s(53),s(36),s(116),s(117),s(1)),l=s(27);function compare_runs_results(e,t){return e.values.verdict&&e.values.score?e.values.score!==t.values.score?e.values.score-t.values.score:e.values.wrong_submit_number!==t.values.wrong_submit_number?e.values.wrong_submit_number-t.values.wrong_submit_number:e.values.solved_time<t.values.solved_time?1:-1:-1}function compare_attempts(e,t){return e.values.is_finished&&!t.values.is_finished?1:e.values.score!==t.values.score?e.values.score-t.values.score:e.values.number!==t.values.number?e.values.number-t.values.number:0}var o=function(){function ResultGroup(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(a.isRequired)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(a.isRequired)();r()(this,ResultGroup),this.state=e,this.contest_results=t;var s=Object(l.k)(t,(function(e){return e.testing_attempts||[]}));s=Object(l.f)(s,(function(e){return e.values.testing_id})),this.testing_attempts=Object.values(Object(l.b)(s,compare_attempts));var n=Object(l.k)(t,(function(e){return e.run_results||[]}));n=Object(l.f)(n,(function(e){return"".concat(e.values.contest_id,"|").concat(e.values.problem_id)})),this.run_results=Object.values(Object(l.b)(n,compare_runs_results));var i=Object(l.k)(t,(function(e){return e.scratch_problem_results||[]}));i=Object(l.f)(i,(function(e){return e.values.scratch_problem_id})),this.scratch_problem_results=Object.values(Object(l.b)(i,(function(e,t){return e.values.score-t.values.score}))),this.solved_problems=this.get_solved_problems(),this.score=this.get_score()}return u()(ResultGroup,[{key:"get_solved_problems",value:function get_solved_problems(){return this.run_results.filter((function(e){return"OK"===e.values.verdict})).length+this.testing_attempts.filter((function(e){return e.values.is_passed})).length+this.scratch_problem_results.length}},{key:"get_score",value:function get_score(){var e=null;return this.run_results.forEach((function(t){return e+=t.values.score})),this.testing_attempts.forEach((function(t){return e+=t.values.score})),this.scratch_problem_results.forEach((function(t){return e+=t.values.score})),e}},{key:"get_problem_result",value:function get_problem_result(e){return this.run_results.find((function(t){return t.values.problem_id===e}))}},{key:"get_attempt_result",value:function get_attempt_result(e){return this.testing_attempts.find((function(t){return t.values.testing_id===e}))}},{key:"get_scratch_problem_result",value:function get_scratch_problem_result(e){return this.scratch_problem_results.find((function(t){return t.values.scratch_problem_id===e}))}}]),ResultGroup}();function sort_contest_results(e,t){return e=e.sort((function(e,t){return null===e.score?1:null===t.score?-1:e.score!==t.score?e.score&&e.score>t.score?-1:1:e.overdue_problems>t.overdue_problems?-1:1})),t?e:e.filter((function(e){return 0!==e.score}))}},2102:function(e,t,s){"use strict";s(11),s(7),s(12);var n=s(374),r=s(522),i={name:"scratch-problem-score",props:{scratch_problem_results:{required:!0}},computed:{unit:function unit(){var e=this.scratch_problem_results.scratch_problem.values.unit_id,t=this.$store.state.models.units[e];return new n.a(t,this.$store.state)},unit_timing:function unit_timing(){return this.unit?Object(r.b)(this.$store.state,this.unit.values.id):null}}},u=s(3),a=Object(u.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e.scratch_problem_results&&e.unit_timing&&e.unit_timing.is_result_published()?s("span",{class:"text-"+e.scratch_problem_results.color},[e._v("\n    "+e._s(e.scratch_problem_results.values.score)+" / "+e._s(100)+"\n  ")]):s("span",{staticClass:"text-muted"},[e._v("\n    - / "+e._s(100)+"\n  ")])])}),[],!1,null,null,null);t.a=a.exports},2405:function(e,t,s){"use strict";var n=s(845),r={name:"run-result-score",functional:!0,props:{run_result:{required:!1,type:s(877).a},problem:{required:!0,type:n.a}}},i=s(3),u=Object(i.a)(r,(function(e,t){var s=t._c;return t.props.run_result?s("div",{class:"text-"+t.props.run_result.color},[t._v("\n  "+t._s(t.props.run_result.score_display)+" / "+t._s(t.props.problem.problem.values.score)+"\n")]):s("div",{staticClass:"text-muted"},[t._v("\n  - / "+t._s(t.props.problem.problem.values.score)+"\n")])}),[],!0,null,null,null);t.a=u.exports},2406:function(e,t,s){"use strict";var n=s(622),r={name:"testing-attempt-score",props:{attempt:{required:!1,type:s(843).a},testing:{required:!0,type:n.b}}},i=s(3),u=Object(i.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.attempt?s("div",{class:"text-"+e.attempt.get_color(!1)},[e.attempt.is_result_published()?[s("span",{class:"text-"+e.attempt.get_color(!1)},[e._v("\n      "+e._s(e.attempt.score)+" / "+e._s(e.testing.score)+"\n    ")])]:[s("span",{staticClass:"text-muted"},[e._v("? / "+e._s(e.testing.score))])]],2):s("div",{staticClass:"text-muted"},[e._v("\n  - / "+e._s(e.testing.score)+"\n")])}),[],!1,null,null,null);t.a=u.exports},2416:function(e,t,s){"use strict";s(11),s(7),s(12),s(43);var n=s(80),r=s(268),i=s(844),u=s(132),a={name:"ClientClassesArrowsProvider",components:{ListFetcher:n.a},props:{classes:{type:r.a,required:!0}},data:function data(){var e=this.classes.course.values.school_subject_id,t={orderBy:"datetime_begin",classes__course__school_subject_id:e,classes__course_id:this.classes.values.course_id,user__pupil__id:this.$route.params.pupil_id};return e||(t.is_additional=!0),{classes_user_model:i.b,filters:[{applied:t}],classes_ids:this.$store.state.context.classes_navigation_ids||null}},computed:{index:function index(){return this.classes_ids&&this.classes_ids.indexOf(parseInt(this.$route.params.classes_id))},has_previous_class:function has_previous_class(){if(this.classes_ids)return this.index-1>=0},has_next_class:function has_next_class(){if(this.classes_ids)return this.index+1<this.classes_ids.length}},methods:{next:function next(){this.iterate_classes(1)},prev:function prev(){this.iterate_classes(-1)},iterate_classes:function iterate_classes(e){var t=this.classes_ids.indexOf(parseInt(this.$route.params.classes_id))+e;if(t>=0&&t<this.classes_ids.length){var s=Object(u.c)(this.$route,"classes_unit_content");this.$router.push({name:s,params:{classes_id:this.classes_ids[t]}}).catch((function(){}))}},set_classes_ids:function set_classes_ids(e,t){var s=this;this.classes_ids=t.map((function(e){return s.$store.state.models.classes_users[e].classes_id}))}}},l=s(3),o=Object(l.a)(a,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("ListFetcher",{directives:[{name:"show",rawName:"v-show",value:e.has_previous_class||e.has_next_class,expression:"has_previous_class || has_next_class"}],attrs:{url:"api:classes_users_heading_list_api",limit:100,is_need:null===e.classes_ids,model:e.classes_user_model,filters:e.filters,show_errors:!1},on:{fetched:e.set_classes_ids}},[e._t("default",null,{prev:e.prev,next:e.next,has_previous_class:e.has_previous_class,has_next_class:e.has_next_class})],2)}),[],!1,null,null,null);t.a=o.exports},533:function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"d",(function(){return is_show_menu})),s.d(t,"a",(function(){return c})),s.d(t,"c",(function(){return get_content_width}));var n=s(4),r=s.n(n),i=s(5),u=s.n(i),a=(s(11),s(7),s(12),s(1)),l=s(133),o=function(){function UnitMenuSize(e){r()(this,UnitMenuSize),this.component=e;var t=window.sessionStorage.getItem("unit:menu:size");this.is_large=null==t}return u()(UnitMenuSize,[{key:"toggle_menu",value:function toggle_menu(){this.is_large?(this.is_large=!1,window.sessionStorage.setItem("unit:menu:size","small")):(this.is_large=!0,window.sessionStorage.removeItem("unit:menu:size"))}}]),UnitMenuSize}();function is_show_menu(e,t){return!!e&&(Boolean(!t)||Boolean(!t.meta)||void 0===t.meta.unit_menu)}var c=function(){function ClassesMenuHandler(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(a.isRequired)(),s=arguments.length>2?arguments[2]:void 0;r()(this,ClassesMenuHandler),this.$store=e,this.storage_key=t,Object(l.a)(e,this.storage_key,s),this.show=this.$store.state.persistent.values[this.storage_key]}return u()(ClassesMenuHandler,[{key:"toggle",value:function toggle(){this.toggle_menu_show(!this.show)}},{key:"toggle_menu_show",value:function toggle_menu_show(e){Object(l.c)(this.$store,this.storage_key,e)}}]),ClassesMenuHandler}();function get_content_width(e,t){return e&&!t?"width: 100%":e&&t?"width:calc( 100% - 385px )":"width: calc(100% - 72px)"}}}]);
//# sourceMappingURL=30.30.0c5cdc2cf6951ec19e2b.js.map